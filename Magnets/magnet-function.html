<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
	<title>nuff-respec.com > Magnets (CSS + JavaScript)</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="c/nuff.css" media="all" type="text/css" />
	<link rel="stylesheet" href="c/magnet.css" media="all" type="text/css" />
	<script src="j/mootools-beta-1.2b2.js" type="application/javascript"></script>

	<script type="application/javascript">
// <![CDATA[
window.addEvent('domready', make_magnets);

function make_magnets()
{
	z = 1;

	//go thru all paragraphs with class "magnets"
	$$('p.magnets').each(function(paragraph)
	{
		//grab text of paragraph
		var txt = paragraph.getText();

		//consider a word to be a space
		var txt_arry = txt.split(' ');

		//create a new paragraph
		var my_p = new Element('p');

		//go thru each word
		txt_arry.each(function(word)
		{
			//create new anchor tag with class magnet
			var my_anchor = new Element('a', {
				'href': '#',
				'class': 'magnet',
				'events': {
					'click': function(el){
						return false;
					}
				}
			});
	
			//make anchor draggable
			var myDrag = new Drag(my_anchor,
			{
				onBeforeStart: function(el)
				{
					//when move make it the highest
					el.setStyle('z-index', z++);
				}
			});
	
			//create new span with word
			var my_span = new Element('span',{
				'html': word
			});
	
			//inject anchor inside span
			my_span.inject(my_anchor);
		
			//inject anchor inside of p
			my_anchor.inject(my_p);
		});

	//replace old paragraph with new one
	my_p.replaces(paragraph);
	
	});
}

// ]]>
</script>

</head>
<body>
<h4><a href="http://www.nuff-respec.com/technology/javascript-and-css-magnets"><img src="i/nuff-respec.gif" alt="nuff-respec" width="55" height="50" /></a></h4>
<div id="content"><h1>Magnets (CSS + JavaScript)</h1>

<h2>Example (<u>not</u> from script)</h2>	
	<p class="demo">
		<a href="#" class="magnet"><span>Not done from script</span></a>
	</p>

<h2>Example (changed from script)</h2>	
	<p class="magnets">
		Man to man is so unjust, children <br />
		You donâ€™t know who to trust <br />
		Your worst enemy could be your best friend <br />
		And your best friend your worst enemy
	</p>




</div>
<p class="note"><strong>note:</strong> this is purely experimental and i make no guarantees how long this site will remain.  the <a href="http://www.nuff-respec.com/technology/javascript-and-css-magnets">source code</a> is available for you to use on your own server.</p>
<div id="footer">
	<p>&copy; copyright 2000-2008 / nuff-respec / <a href="http://www.nuff-respec.com/technology/javascript-and-css-magnets">daniel bulli</a></p> 
</div>

</body>
</html>